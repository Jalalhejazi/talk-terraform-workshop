mixins:
  - exec
  - terraform

name: hello-porter
version: 0.1.0
invocationImage: neilpeterson/hello-porter:latest

credentials:
  - name: subscription_id
    env: TF_VAR_subscription_id
  - name: tenant_id
    env: TF_VAR_tenant_id
  - name: client_id
    env: TF_VAR_client_id
  - name: client_secret
    env: TF_VAR_client_secret

parameters:
  - name: location
    type: string
    default: "East US"
    destination:
      env: TF_VAR_location

  - name: resource_group_name
    type: string
    default: "porterkvtest"
    destination:
      env: TF_VAR_resource_group_name

install:
  - terraform:
      description: "Install Hello World"
      autoApprove: true
      input: false

upgrade:
  - terraform:
      description: "Upgrade Hello World"
      autoApprove: true
      input: false

status:
  - terraform:
      description: "Get Hello World status"

uninstall:
  - terraform:
      description: "Uninstall Hello World"
      autoApprove: true